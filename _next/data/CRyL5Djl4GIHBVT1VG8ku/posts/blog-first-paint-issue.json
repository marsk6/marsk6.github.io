{"pageProps":{"post":{"__typename":"Post","slug":"blog-first-paint-issue","title":"blog é¦–é¡µæ ·å¼é—ªçƒé—®é¢˜æ’æŸ¥","tags":[{"__typename":"Tag","name":"é—®é¢˜è®°å½•"}],"category":null,"ctime":1703821560000,"mtime":1703822100000,"date":"12-29","content":"\n## é—®é¢˜æè¿°\n\næ‰“å¼€ blog é¦–é¡µï¼Œå‘ç°æ ·å¼ä¼šé—ªçƒï¼Œéå¸¸çŸ­æš‚ï¼Œçœ‹èµ·æ¥å…ˆå±•ç¤º mobile çš„æ ·å¼ï¼Œå†å±•ç¤º pc çš„æ ·å¼\n\n![[blog-first-paint-issue.gif|400]]\n\n## é—®é¢˜æ’æŸ¥\n\n1. é—®é¢˜çŒœæƒ³ 1ï¼Œæ˜¯ç§»åŠ¨ä¼˜å…ˆçš„å†™æ³•å¯¼è‡´äº†é—®é¢˜ï¼Œä½†æ˜¯é—ªçƒå¾ˆçŸ­æš‚ï¼Œæ²¡æ³•åˆ¤æ–­ç¬¬ä¸€æ¬¡å±•ç¤ºçš„æ ·å¼ï¼Œä»¥åŠ debug åˆ°å½“æ—¶çš„ cssã€‚\n\n```jsx *{4}\n<section\n  className={cx(\n    'container flex gap-2 relative',\n    'flex-col', // ğŸ‘‰ é»˜è®¤æ ·å¼æ˜¯ç§»åŠ¨ç«¯çš„æ ·å¼ï¼Œå†ç”¨ @media é€‚é…å…¶ä»–ç«¯\n    'lg:max-w-5xl lg:flex-row lg:mt-4 lg:items-start lg:mx-auto'\n  )}\n>\n  ...\n</section>\n```\n\nç”¨ devtools çš„ performance screenshot å½•åˆ¶æ¸²æŸ“è¿‡ç¨‹ï¼Œä»å½•åˆ¶çš„ç»“æœçœ‹ï¼Œé¡µé¢ä»çª„åˆ°å®½ï¼Œä½†ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¸æ˜¯ mobile çš„æ ·å¼ï¼Œæ‰€ä»¥ `@media` é‡Œçš„æ ·å¼ä¸å½±å“æ¸²æŸ“é¡ºåºã€‚\n\n![[blog-first-paint-issue-1.gif|400]]\n\n2. é—®é¢˜çŒœæƒ³ 2ï¼Œæ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œjs æ’å…¥äº† css å¯¼è‡´é—ªçƒ\n\n```jsx *{4}\n<section\n  className={cx(\n    css`\n      flex: 1;\n      min-height: calc(100.1vh - var(--header-height));\n    `\n  )}\n>\n  {children}\n</section>\n```\n\nä»£ç é‡Œæœ‰éƒ¨åˆ† css in jsï¼Œjs æ’å…¥ `flex: 1` åä½¿å†…å®¹æ‰©å¤§å æ»¡äº†å‰©ä½™ç©ºé—´ï¼Œå¯¼è‡´äº†é¡µé¢é—ªçƒã€‚ç§»é™¤åå°±æ²¡æœ‰é—ªçƒçš„é—®é¢˜ã€‚\n\n## å»ºè®®\n\nstyle componentã€emotion ç­‰ css in js å­˜åœ¨éé™æ€ä»£ç ï¼Œæ— æ³•åœ¨æ„å»ºæ—¶æŠ½ç¦» cssï¼Œå› æ­¤ä¸å»ºè®® tailwindcss å’Œ css in js ä¸€èµ·ä½¿ç”¨ï¼Œé¿å…æ ·å¼é—ªçƒé—®é¢˜ã€‚\nå¦‚æœè¦ä½¿ç”¨ css in jsï¼Œå¯ä»¥ä½¿ç”¨ css module çš„å¹³æ›¿ [vanilla-extract](https://mantine.dev/styles/vanilla-extract/)ï¼Œå®ƒæ”¯æŒåœ¨ js é‡Œå†™ cssï¼Œåœ¨æ„å»ºæ—¶æŠ½ç¦» cssã€‚\n\n> æœ¬åšå®¢ ([marsk6](https://marsk6.github.io/)) æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ BY-NC-SA è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼\n","prevArticle":{"__typename":"Post","title":"é—®é¢˜è®°å½•-æœ¬åœ°å¼€å‘ç”¨ whistle åšä»£ç†","slug":"whistle-proxy-in-local-dev"},"nextArticle":null,"readingTime":"1","brief":"é¦–é¡µé¦–å±æ ·å¼é—ªçƒé—®é¢˜æ’æŸ¥ï¼Œä¸å»ºè®® tailwindcss å’Œ css in js ä¸€èµ·ä½¿ç”¨","toc":"- [é—®é¢˜æè¿°](#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0)\n- [é—®é¢˜æ’æŸ¥](#%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5)\n- [å»ºè®®](#%E5%BB%BA%E8%AE%AE)"},"relatedTags":[{"__typename":"Tag","name":"é—®é¢˜è®°å½•","posts":[{"__typename":"Post","slug":"whistle-proxy-in-local-dev"},{"__typename":"Post","slug":"blog-first-paint-issue"}]}]},"__N_SSG":true}